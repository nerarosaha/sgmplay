/*!
 * @name videojs-upnext
 * @version 2.2.0
 * @author Fernando Godino <fernando@varsityviews.com>
 * @license Apache-2.0
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.videojsUpnext=t()}}(function(){return function t(e,n,o){function i(r,a){if(!n[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[r]={exports:{}};e[r][0].call(c.exports,function(t){var n=e[r][1][t];return i(n||t)},c,c.exports,t,e,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(t,e,n){(function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return'\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">'+t.headText+'</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5" stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">'+t.cancelText+"</button>\n      </span>\n    </span>\n  "}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,o)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(o)},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0});var u=function(t){return t&&"object"===(void 0===t?"undefined":l(t))&&"default"in t?t.default:t}("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),c={},f=u.registerPlugin||u.plugin,p=u.getComponent("Component"),d=function(t){function n(t,i){e(this,n);var s=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,i));return s.getTitle=s.options_.getTitle,s.next=s.options_.next,s.upNextEvents=new u.EventTarget,s.dashOffsetTotal=586,s.dashOffsetStart=293,s.interval=50,s.chunkSize=(s.dashOffsetTotal-s.dashOffsetStart)/(s.options_.timeout/s.interval),t.on("ended",function(e){t.addClass("vjs-upnext--showing"),s.showCard(function(e){t.removeClass("vjs-upnext--showing"),s.container.style.display="none",e||s.next()})}),t.on("playing",function(){this.upNextEvents.trigger("playing")}.bind(s)),s}return i(n,t),r(n,[{key:"createEl",value:function(){var t=a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createEl",this).call(this,"div",{className:"vjs-upnext-content",innerHTML:s(this.options_)});return this.container=t,t.style.display="none",this.autoplayRing=t.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=t.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=t.getElementsByClassName("vjs-upnext-cancel-button")[0],this.nextButton=t.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=function(){this.upNextEvents.trigger("cancel")}.bind(this),this.nextButton.onclick=function(){this.upNextEvents.trigger("next")}.bind(this),t}},{key:"showCard",value:function(t){var e=void 0,n=void 0,o=void 0,i=void 0;this.autoplayRing.setAttribute("stroke-dasharray",this.dashOffsetStart),this.autoplayRing.setAttribute("stroke-dashoffset",-this.dashOffsetStart),this.title.innerHTML=this.getTitle(),this.upNextEvents.one("cancel",function(){clearTimeout(e),t(!0)}),this.upNextEvents.one("playing",function(){clearTimeout(e),t(!0)}),this.upNextEvents.one("next",function(){clearTimeout(e),t(!1)});var s=function s(){o=this.options_.timeout-((new Date).getTime()-n),o<=0?(clearTimeout(e),t(!1)):(i=Math.max(-this.dashOffsetTotal,this.autoplayRing.getAttribute("stroke-dashoffset")-this.chunkSize),this.autoplayRing.setAttribute("stroke-dashoffset",i),e=setTimeout(s.bind(this),this.interval))};this.container.style.display="block",n=(new Date).getTime(),e=setTimeout(s.bind(this),this.interval)}}]),n}(p);u.registerComponent("EndCard",d);var v=function(t,e){t.addClass("vjs-upnext")},y=function(t){var e=this;this.ready(function(){v(e,u.mergeOptions(c,t))});var n=t||{},o={next:n.next,getTitle:n.getTitle,timeout:n.timeout||5e3,cancelText:n.cancelText||"Cancel",headText:n.headText||"Up Next"};this.addChild("endCard",o)};f("upnext",y),y.VERSION="2.2.0",n.EndCard=d,n.default=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});
